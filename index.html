<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Latihan Reading Korea - 40 Soal</title>

<style>
body{
font-family:'Segoe UI',Arial,sans-serif;
margin:0;background:#f5f5f5;color:#333;
}

/* LOGIN */
#login-page{
min-height:100vh;
display:flex;
align-items:center;
justify-content:center;
background:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.6)),
url('https://raw.githubusercontent.com/airnetcso/eps/main/image/bg1.jpg')
center/cover no-repeat fixed;
}

.login-container{
background:rgba(255,255,255,.95);
padding:40px;
border-radius:20px;
width:90%;
max-width:380px;
text-align:center;
}

.login-container input{
width:100%;
padding:14px;
margin:10px 0;
border-radius:10px;
border:2px solid #bbb;
font-size:1em;
}

button{
padding:14px;
background:#3f51b5;
color:#fff;
border:none;
border-radius:12px;
font-size:1.1em;
font-weight:bold;
cursor:pointer;
}

button:hover{background:#283593}

/* QUIZ */
#quiz-page{display:none}

.container{
max-width:600px;
margin:auto;
padding:110px 15px 15px;
background:#fff;
}

/* HEADER ATAS */
.header-fixed{
position:fixed;
top:0;
left:0;
width:100%;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;
background:#fff;
box-shadow:0 4px 15px rgba(0,0,0,.1);
z-index:1000;
}

/* SUBMIT ATAS KIRI */
.submit-top{
width:130px;
height:52px;
border-radius:12px;
font-size:1.1em;
}

/* TIMER ATAS KANAN */
.timer{
width:130px;
height:52px;
display:flex;
align-items:center;
justify-content:center;
background:#4caf50;
color:#fff;
border-radius:12px;
font-size:1.4em;
font-weight:bold;
}

/* QUESTION */
.question-wrapper{display:none}
.question-wrapper.active{display:block}

.box-passage{
background:#e3f2fd;
padding:20px;
border-radius:14px;
margin-bottom:15px;
}

.box-question{
background:#fff3e0;
padding:20px;
border-radius:14px;
}

/* OPSI */
.options{margin-top:20px}

.option-item{
display:flex;
align-items:center;
gap:12px;
margin:12px 0;
}

.option-item input{display:none}

.option-number{
width:34px;height:34px;
border-radius:50%;
border:2px solid #3f51b5;
display:flex;
align-items:center;
justify-content:center;
font-weight:bold;
color:#3f51b5;
flex-shrink:0;
}

.option-text{cursor:pointer}

.option-item input:checked + .option-number{
background:#3f51b5;
color:#fff;
}

/* NAV */
.nav-buttons{
display:flex;
gap:10px;
margin:30px 0;
}

.nav-buttons button{flex:1}

#result{
display:none;
text-align:center;
font-size:1.6em;
background:#e8f5e9;
padding:30px;
border-radius:16px;
}
</style>
</head>

<body>

<div id="login-page">
<div class="login-container">
<h1>Latihan Reading Korea</h1>
<p>40 Soal Pilihan Ganda | Waktu: 50 Menit</p>
<h2>üîê Masuk ke Latihan</h2>
<input type="text" id="username" placeholder="Username / Ïù¥Î¶Ñ">
<input type="password" id="password" placeholder="Password / ÎπÑÎ∞ÄÎ≤àÌò∏">
<input type="text" id="kode" placeholder="Kode Soal / ÏãúÌóòÏΩîÎìú">
<button onclick="login()">MULAI / ÏãúÏûë</button>
</div>
</div>

<div id="quiz-page">
<div class="header-fixed">
<button id="submit" class="submit-top">SUBMIT</button>
<div class="timer" id="timer">50:00</div>
</div>

<div class="container">
<div id="loading">Memuat soal... sabar ya bro üòé</div>
<form id="quiz-form"></form>

<div class="nav-buttons">
<button id="prev">PREV</button>
<button id="next">NEXT</button>
</div>

<div id="result"></div>
</div>
</div>

<script>
const validCredentials={
"uus":"123","kimjong2":"kimju456","siswa01":"tryout26",
"koreafan":"hanguk789","topik2026":"seoul2026"
};

const kodeMapping={
"B12345":"soal1.json",
"A09008":"soal2.json",
"W11765":"soal3.json",
"H66633":"soal4.json"
};

const BASE="https://raw.githubusercontent.com/airnetcso/latbakor/main/soal";
let questions=[],current=0,userAnswers=[],timeLeft=3000,timerInt,isSubmitted=false;

function login(){
const u=username.value.trim();
const p=password.value.trim();
const k=kode.value.trim().toUpperCase();

if(validCredentials[u]===p && kodeMapping[k]){
document.getElementById("login-page").style.display="none";
document.getElementById("quiz-page").style.display="block";
startTimer();
loadQuestions(kodeMapping[k]);
}else alert("Username, Password, atau Kode Soal salah bro!");
}

function startTimer(){
timerInt=setInterval(()=>{
timeLeft--;
document.getElementById("timer").textContent=
String(timeLeft/60|0).padStart(2,"0")+":"+
String(timeLeft%60).padStart(2,"0");
if(timeLeft<=0 && !isSubmitted) submitQuiz(true);
},1000);
}

async function loadQuestions(file){
const r=await fetch(`${BASE}/${file}`);
questions=await r.json();
render();
document.getElementById("loading").style.display="none";
show(0);
}

function render(){
const f=document.getElementById("quiz-form");
f.innerHTML="";
questions.forEach((q,i)=>{
const d=document.createElement("div");
d.className="question-wrapper";
let h=`
<div class="box-passage"><p>${q.passage}</p></div>
<div class="box-question"><p>${q.question}</p><div class="options">`;
Object.keys(q.options).forEach((k,idx)=>{
h+=`
<div class="option-item">
<input type="radio" name="q${i}" value="${k}" id="o${i}${k}">
<span class="option-number">${idx+1}</span>
<label for="o${i}${k}" class="option-text">${q.options[k]}</label>
</div>`;
});
h+=`</div></div>`;
d.innerHTML=h;
f.appendChild(d);
});
}

function show(n){
document.querySelectorAll(".question-wrapper")
.forEach((q,i)=>q.classList.toggle("active",i===n));
current=n;
}

document.getElementById("next").onclick=()=>current<questions.length-1&&show(current+1);
document.getElementById("prev").onclick=()=>current>0&&show(current-1);
document.getElementById("submit").onclick=()=>confirm("Yakin submit sekarang?")&&submitQuiz();

function submitQuiz(){
isSubmitted=true;
clearInterval(timerInt);
let s=0;
questions.forEach((q,i)=>userAnswers[i]===q.correct&&s++);
document.getElementById("result").innerHTML=`Skor: <strong>${s}/${questions.length}</strong>`;
document.getElementById("result").style.display="block";
}
</script>

</body>
</html>
