<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Latihan Reading Korea - 40 Soal</title>

<style>
body{
margin:0;
font-family:'Segoe UI',Arial,sans-serif;
background:#f5f5f5;
color:#333;
}

/* ================= LOGIN ================= */
#login-page{
min-height:100vh;
display:flex;
align-items:center;
justify-content:center;
background:
linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.6)),
url('https://raw.githubusercontent.com/airnetcso/eps/main/image/bg1.jpg')
center/cover no-repeat fixed;
}

.login-container{
background:rgba(255,255,255,.95);
padding:40px;
border-radius:20px;
width:90%;
max-width:380px;
text-align:center;
}

.login-container input{
width:100%;
padding:14px;
margin:10px 0;
border-radius:10px;
border:2px solid #bbb;
font-size:1em;
}

button{
padding:14px;
background:#3f51b5;
color:#fff;
border:none;
border-radius:12px;
font-size:1.1em;
font-weight:bold;
cursor:pointer;
}

button:hover{background:#283593}

/* ================= HEADER ATAS ================= */
.header-fixed{
position:fixed;
top:0;
left:0;
width:100%;
background:#fff;
box-shadow:0 4px 15px rgba(0,0,0,.1);
z-index:1000;
}

.header-inner{
max-width:600px;
margin:0 auto;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;
}

.submit-top{
width:130px;
height:52px;
}

.timer{
width:130px;
height:52px;
display:flex;
align-items:center;
justify-content:center;
background:#4caf50;
color:#fff;
border-radius:12px;
font-size:1.4em;
font-weight:bold;
}

/* ================= FOOTER BAWAH ================= */
.footer-fixed{
position:fixed;
bottom:0;
left:0;
width:100%;
background:#fff;
box-shadow:0 -4px 15px rgba(0,0,0,.1);
z-index:1000;
}

.footer-inner{
max-width:600px;
margin:0 auto;
padding:15px;
display:flex;
gap:10px;
}

/* ================= KONTEN TENGAH ================= */
#quiz-page{display:none}

.container{
max-width:600px;
margin:0 auto;
padding:
110px   /* jarak header */
15px
100px;  /* jarak footer */
background:#fff;
min-height:100vh;
}

/* ================= SOAL ================= */
.question-wrapper{display:none}
.question-wrapper.active{display:block}

.box-passage{
background:#e3f2fd;
padding:20px;
border-radius:14px;
margin-bottom:15px;
}

.box-question{
background:#fff3e0;
padding:20px;
border-radius:14px;
}

/* ================= OPSI ================= */
.options{margin-top:20px}

.option-item{
display:flex;
align-items:center;
gap:12px;
margin:12px 0;
}

.option-item input{display:none}

.option-number{
width:34px;
height:34px;
border-radius:50%;
border:2px solid #3f51b5;
display:flex;
align-items:center;
justify-content:center;
font-weight:bold;
color:#3f51b5;
flex-shrink:0;
}

.option-text{
cursor:pointer;
line-height:1.5;
}

.option-item input:checked + .option-number{
background:#3f51b5;
color:#fff;
}

/* ================= RESULT ================= */
#result{
display:none;
text-align:center;
font-size:1.6em;
background:#e8f5e9;
padding:30px;
border-radius:16px;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login-page">
<div class="login-container">
<h1>Latihan Reading Korea</h1>
<p>40 Soal Pilihan Ganda | Waktu: 50 Menit</p>
<h2>üîê Masuk ke Latihan</h2>
<input id="username" placeholder="Username / Ïù¥Î¶Ñ">
<input type="password" id="password" placeholder="Password / ÎπÑÎ∞ÄÎ≤àÌò∏">
<input id="kode" placeholder="Kode Soal / ÏãúÌóòÏΩîÎìú">
<button onclick="login()">MULAI / ÏãúÏûë</button>
</div>
</div>

<!-- QUIZ -->
<div id="quiz-page">

<!-- HEADER -->
<div class="header-fixed">
<div class="header-inner">
<button id="submit" class="submit-top">SUBMIT</button>
<div class="timer" id="timer">50:00</div>
</div>
</div>

<!-- KONTEN -->
<div class="container">
<div id="loading">Memuat soal... sabar ya bro üòé</div>
<form id="quiz-form"></form>
<div id="result"></div>
</div>

<!-- FOOTER -->
<div class="footer-fixed">
<div class="footer-inner">
<button id="prev" style="flex:1">PREV</button>
<button id="next" style="flex:1">NEXT</button>
</div>
</div>

</div>

<script>
const validCredentials={
"uus":"123","kimjong2":"kimju456","siswa01":"tryout26",
"koreafan":"hanguk789","topik2026":"seoul2026"
};

const kodeMapping={
"B12345":"soal1.json",
"A09008":"soal2.json",
"W11765":"soal3.json",
"H66633":"soal4.json"
};

const BASE="https://raw.githubusercontent.com/airnetcso/latbakor/main/soal";

let questions=[];
let current=0;
let userAnswers=[];
let timeLeft=3000;
let timerInt;
let isSubmitted=false;

function login(){
const u=username.value.trim();
const p=password.value.trim();
const k=kode.value.trim().toUpperCase();

if(validCredentials[u]===p && kodeMapping[k]){
login-page.style.display="none";
quiz-page.style.display="block";
startTimer();
loadQuestions(kodeMapping[k]);
}else alert("Username, Password, atau Kode Soal salah bro!");
}

function startTimer(){
timerInt=setInterval(()=>{
timeLeft--;
timer.textContent=
String(timeLeft/60|0).padStart(2,"0")+":"+
String(timeLeft%60).padStart(2,"0");
if(timeLeft<=0 && !isSubmitted) submitQuiz();
},1000);
}

async function loadQuestions(file){
const r=await fetch(`${BASE}/${file}`);
questions=await r.json();
renderQuestions();
loading.style.display="none";
showQuestion(0);
}

function renderQuestions(){
quiz-form.innerHTML="";
questions.forEach((q,i)=>{
const w=document.createElement("div");
w.className="question-wrapper";

let h=`
<div class="box-passage"><p>${q.passage}</p></div>
<div class="box-question">
<p>${q.question}</p>
<div class="options">`;

Object.keys(q.options).forEach((k,idx)=>{
h+=`
<div class="option-item">
<input type="radio" name="q${i}" value="${k}">
<span class="option-number">${idx+1}</span>
<label class="option-text">${q.options[k]}</label>
</div>`;
});

h+=`</div></div>`;
w.innerHTML=h;
quiz-form.appendChild(w);
});
}

function showQuestion(n){
document.querySelectorAll(".question-wrapper")
.forEach((q,i)=>q.classList.toggle("active",i===n));
current=n;
}

next.onclick=()=>current<questions.length-1&&showQuestion(current+1);
prev.onclick=()=>current>0&&showQuestion(current-1);
submit.onclick=()=>confirm("Yakin submit sekarang?")&&submitQuiz();

function submitQuiz(){
if(isSubmitted) return;
isSubmitted=true;
clearInterval(timerInt);
let s=0;
questions.forEach((q,i)=>userAnswers[i]===q.correct&&s++);
result.innerHTML=`Skor: <strong>${s}/${questions.length}</strong>`;
result.style.display="block";
}
</script>

</body>
</html>
